<form class="form" [formGroup]="adminForm" (ngSubmit)="install()">
  <span><!-- Title --></span>
  <h3>Install Plugins and Templates</h3>
  <span><!-- Description --></span>
  <p>
    Quickly turn on and off templates bundled with this client.
    Visit the <a routerLink="../plugin">plugins</a> or
    <a routerLink="../template">templates</a> settings page to manage all
    plugins and templates.
  </p>
  <span>Plugins:</span>
  <div formGroupName="plugins">
    <div *ngFor="let plugin of admin.def.plugins | keyvalue">
      <input id="plugin-{{ plugin.key }}" type="checkbox" [formControlName]="$any(plugin.key)">
      <label for="plugin-{{ plugin.key }}">{{ plugin.value.name || plugin.key }}</label>
    </div>
  </div>

  <span>Templates:</span>
  <div formGroupName="templates">
    <div *ngFor="let template of admin.def.templates | keyvalue">
      <input id="template-{{ template.key }}" type="checkbox" [formControlName]="$any(template.key)">
      <label for="template-{{ template.key }}">{{ template.value.name || template.key }}</label>
    </div>
  </div>

  <ng-container *ngFor="let e of serverError">
    <span><!-- Unexpected Error --></span>
    <div class="error">{{ e }}</div>
  </ng-container>

  <span><!-- Buttons --></span>
  <span class="form-array right">
    <button type="submit" [disabled]="submitted && !adminForm.valid">Save</button>
  </span>

  <ng-container *ngFor="let i of installMessages">
    <span><!-- Progress Log --></span>
    <div>{{ i }}</div>
  </ng-container>
</form>

<hr>
<ng-container *ngIf="ref$ | async as ref; else loading">
  <app-comment-reply [top]="ref"
                     [sources]="[ref.url]"
                     [tags]="(inboxes$ | async) || []"
                     [newComments$]="newComments$"></app-comment-reply>
  <app-comment-list *ngIf="url$"
                    [top]="ref"
                    [filter$]="filter$"
                    [source$]="url$"
                    [newComments$]="newComments$"
                    [depth]="depth$ | async"></app-comment-list>
</ng-container>
<ng-template #loading>
  <app-loading></app-loading>
</ng-template>

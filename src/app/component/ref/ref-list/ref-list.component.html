<div class="list-container">
  <ng-container *ngFor="let ref of pinned">
    <div class="list-number">&bullet;</div>
    <app-ref class="pinned"
             [ref]="ref"
             [showToggle]="true"
             [plugins]="plugins"
             [hideEdit]="ext?.config?.hideEdit"
             [disableResize]="ext?.config?.disableResize"
             [expanded]="expanded"></app-ref>
  </ng-container>
  <ng-container *ngFor="let ref of page?.content; let i = index">
    <div class="list-number">{{ getNumber(i) }}</div>
    <app-ref [ref]="ref"
             [showToggle]="true"
             [plugins]="plugins"
             [hideEdit]="ext?.config?.hideEdit"
             [disableResize]="ext?.config?.disableResize"
             [showAlarm]="showAlarm"
             [expanded]="expanded"></app-ref>
  </ng-container>
  <ng-container *ngFor="let ref of newRefs; let i = index">
    <div class="list-number">{{ getNumber(i + (page?.content?.length || 0)) }}</div>
    <app-ref [ref]="ref"
             [showToggle]="true"
             [plugins]="plugins"
             [hideEdit]="ext?.config?.hideEdit"
             [disableResize]="ext?.config?.disableResize"
             [expanded]="expanded"></app-ref>
  </ng-container>
</div>
<ng-container *ngIf="page else loading">
  <p class="no-results" *ngIf="page.empty else results">
    {{ emptyMessage }}
  </p>
  <ng-template #results>
    <app-page-controls *ngIf="pageControls"
                       [showPageLast]="showPageLast"
                       [page]="page"></app-page-controls>
  </ng-template>
</ng-container>
<ng-template #loading>
  <app-loading></app-loading>
</ng-template>
